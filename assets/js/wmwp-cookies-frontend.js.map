{"version":3,"file":"wmwp-cookies-frontend.js","mappings":"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","sources":["webpack://wmwp-cookies/./src/components/WMCookies.ts","webpack://wmwp-cookies/webpack/bootstrap","webpack://wmwp-cookies/webpack/runtime/define property getters","webpack://wmwp-cookies/webpack/runtime/hasOwnProperty shorthand","webpack://wmwp-cookies/webpack/runtime/make namespace object","webpack://wmwp-cookies/./src/index.ts"],"sourcesContent":["/*jshint esversion: 6 */\n\n/**\n * WMCookies\n * class to handle cookies. Has methods to create \n * delete and update specific cookies\n * \n * @version 0.9\n * @author Webmind.agency\n */\n\ndeclare interface WMCookies {\n  path: string\n  arr_cookies: Array<Array<string>>\n}\n\nclass WMCookies {\n\n  static path: string;\n  static cookies_array: Array<Array<string>>;\n\n\n\n  /**\n   * Constructor fuction inilializes the class \n   * and stores cookies in an array to be nandled and saved more easily\n   * \n   *  @param path string where the cookie is meant to be stored\n   */\n  constructor ( path:string ) {\n\n    this.path = path;\n\n    // just for testing purposes at the moment.\n    this.createCookiesArray();\n  }\n\n\n\n\n  /**\n   * Creates new cookie or replace existing one\n   * \n   * @param cname name of the new cookie \n   * @param cvalue value of the cookie\n   * @param extime time to expire in miliseconds\n   * \n   * @returns void\n   * @since 0.9\n   */\n  public setCookie ( cname:string, cvalue:string, extime:number ) {\n\n    const d = new Date();\n\n    d.setTime( d.getTime() + ( extime ) );\n\n    const expires = 'expires=' + d.toUTCString();\n\n    document.cookie = cname + '=' + cvalue + ';' + expires + ';path=/'+this.path;\n  }\n\n\n\n  /**\n   * Gets value of a cookie\n   * \n   * @param cname name of the cookie to be given\n   * @returns string if the cookie is found or undefined\n   */\n  public getCookie ( cname:string ):string | undefined {\n\n    const name = cname + '=';\n    const decodedCookie = decodeURIComponent( document.cookie );\n\n    const ca = decodedCookie.split( ';' );\n\n    for ( let i = 0; i < ca.length; i++ ) {\n\n      let c = ca[i];\n\n      while ( c.charAt( 0 ) == ' ' ) {\n        c = c.substring( 1 );\n      }\n\n      if ( c.indexOf( name ) == 0 )\n        return c.substring( name.length, c.length );\n    }\n    return undefined;\n  }\n\n\n  /**\n   * Deletes cookie given\n   * \n   * TODO: make this functional. I don't really like this.\n   * Seems to delete all cookies and replaces with tha one given with expired date (#221218)\n   * \n   * @param name string name of the cookie to be deleted\n   * \n   * @returns void\n   * @since 0.9\n   */\n  static deleteCookie ( name:string ):void {\n    document.cookie = name + '=; Max-Age=-99999999;';\n  }\n\n\n  /**\n   * Stores document cookie string as array inside this class instance\n   * \n   * @returns void\n   * @since 0.9\n   */\n  createCookiesArray () {\n\n    this.arr_cookies = [];\n\n    if ( document.cookie && document.cookie != '' ) {\n\n      const ca = document.cookie.split( ';' );\n\n      for ( let i = 0; i < ca.length; i++ ) {\n\n        let c = ca[i];\n\n        while ( c.charAt( 0 ) == ' ' ) {\n          c = c.substring( 1 );\n        }\n\n        const csa = c.split( '=' );\n\n        this.arr_cookies.push ( csa );\n      }\n      console.log( this.arr_cookies );\n    }\n  }\n\n\n\n  /**\n   * Saves cookie from arr_cookies array\n   * \n   * @returns void\n   * @since 0.9\n   */\n  make_cookie_from_array () {\n\n    if ( Object.keys( this.arr_cookies ).length != 0 ) { \n\n      let updated_cookie = '';\n      for ( const key in this.arr_cookies ) {\n        const value = this.arr_cookies[key];\n        updated_cookie = updated_cookie + key + '=' + value;\n      }\n    }\n  }\n}\n\nexport default WMCookies;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nimport WMCookies from './components/WMCookies';\nexport {};\ndeclare global {\n  interface Window { \n    wmwp_cookie_consent: boolean;\n  }\n}\n\n/** \n * Code to stop storing all cookies\n *\nexport {};\ndeclare global {\n  interface Document { \n    __defineGetter__: any; \n    __defineSetter__: any;\n  }\n}\nif( !document.__defineGetter__ ) {\n  Object.defineProperty( document, 'cookie', {\n    get: function () {return '';},\n    set: function () {return true;},\n  } );\n} else {\n  document.__defineGetter__( 'cookie', function () { return '';} );\n  document.__defineSetter__( 'cookie', function () { return '';} );\n}\n*/\n\nconst WMCookiesInst = new WMCookies( '' );\n\nwindow.wmwp_cookie_consent = false;\n\n\n\n\ndocument.addEventListener( 'DOMContentLoaded', ()=>{\n\n  const el_cookie_banner = document.querySelector( '#wmwp-cookies-banner' ) as HTMLDivElement;\n  const el_consent = el_cookie_banner.querySelector( '#wmwp-cookies-consent' );\n  const el_deny = el_cookie_banner.querySelector( '#wmwp-cookies-deny' );\n\n  //Show if the cookie is not provided\n\n\n  const wmc = WMCookiesInst.getCookie( 'wmc09' );\n\n  if( !wmc ) {\n\n    el_cookie_banner.style.display = 'flex';\n\n  }\n  else if ( wmc == 'true' ) {\n\n    window.wmwp_cookie_consent = true;\n\n  }\n\n  el_consent.addEventListener( 'click', ()=>{\n\n    WMCookiesInst.setCookie( 'wmc09', 'true', ( 1000*60*60*24*365 ) );\n    el_cookie_banner.style.display = 'none';\n  } );\n\n  el_deny.addEventListener( 'click', ()=>{\n\n    WMCookiesInst.setCookie( 'wmc09', 'false', ( 1000*60*60*24*365 ) );\n    el_cookie_banner.style.display = 'none';\n  } );\n} );"],"names":[],"sourceRoot":""}